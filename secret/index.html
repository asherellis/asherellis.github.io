<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Secret – Asher Ellis</title>
  <meta name="description" content="Secret live photos by Asher Ellis.">
  <link rel="canonical" href="https://asherellis.net/secret/">
  <link rel="preload" href="//fonts.googleapis.com/css?family=Source+Sans+Pro:300,300i,600" as="style"
    onload="this.onload=null;this.rel='stylesheet'">
  <noscript>
    <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:300,300i,600" rel="stylesheet">
  </noscript>
  <link rel="stylesheet" href="../style.css">
  <style>
    /* Password protection overlay - matching site style */
    .password-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: opacity 0.3s ease;
    }

    .password-overlay.hidden {
      opacity: 0;
      pointer-events: none;
    }

    .password-form {
      background: transparent;
      color: #ccc;
      padding: 0;
      text-align: left;
      max-width: 400px;
      width: 90%;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    }

    .password-form h2 {
      margin-bottom: 20px;
      color: white;
      font-size: 1.75rem;
      font-weight: 600;
      line-height: 1.1;
      letter-spacing: -.025rem;
    }

    .password-form p {
      margin: 0 0 1rem;
      color: #ccc;
      font-size: 13px;
      line-height: 1.6;
    }

    .password-form input {
      width: 100%;
      padding: 8px 0;
      margin: 10px 0 20px 0;
      border: none;
      border-bottom: 1px solid #dedfe0;
      background: transparent;
      color: white;
      font-size: 15px;
      font-family: inherit;
      outline: none;
    }

    .password-form input:focus {
      border-bottom-color: #ccc;
    }

    .password-form input::placeholder {
      color: #666;
    }

    .password-form button {
      background: transparent;
      color: #ccc;
      border: none;
      padding: 8px 0;
      cursor: pointer;
      font-size: 15px;
      font-family: inherit;
      text-decoration: none;
      transition: color 0.2s ease;
      font-weight: 300;
    }

    .password-form button:hover {
      color: #aaa;
      text-decoration: underline;
    }

    .error-message {
      color: #d63031;
      margin-top: 10px;
      font-size: 13px;
      line-height: 1.6;
    }

    /* Live Photos Gallery */
    .secret-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(210px, 280px));
      gap: 40px;
      margin-top: 20px;
      justify-content: start;
    }

    .animation-item {
      background: transparent;
      width: 100%;
      margin: 0;
    }

    .animation-item video {
      width: 100%;
      height: auto;
      object-fit: cover;
      display: block;
      background: black !important;
      background-color: black !important;
    }

    .animation-item img {
      width: 100%;
      height: auto;
      object-fit: contain;
      display: block;
      background: black;
      cursor: pointer;
    }

    .animation-caption {
      padding: 15px 20px;
      font-size: 13px;
      line-height: 1.4;
      color: #666;
      text-align: center;
    }

    .animation-date {
      font-weight: 500;
      color: #333;
      margin-bottom: 4px;
    }

    .loading-message {
      text-align: center;
      color: #666;
      font-style: italic;
      padding: 20px;
    }

    /* Dark theme overrides */
    .masthead-title a {
      color: white !important;
    }

    .masthead .masthead-nav a {
      color: #ccc !important;
    }

    .masthead .masthead-nav a:hover,
    .masthead .masthead-nav a:focus {
      color: white !important;
    }

    .masthead .masthead-nav a.current-page {
      color: white !important;
    }

    .page-description {
      color: #ccc !important;
    }

    .page-description a {
      color: #268bd2 !important;
    }


    .animation-caption {
      color: #ccc;
    }

    /* Mobile responsive */
    @media screen and (max-width: 850px) {
      .secret-grid {
        grid-template-columns: 1fr;
        gap: 20px;
        padding: 0;
      }

      .animation-item {
        width: 100%;
      }

      .password-form {
        padding: 30px 20px;
      }
    }
  </style>
</head>

<body style="background-color: #000; color: #fff;">
  <!-- Password Protection Overlay -->
  <div id="passwordOverlay" class="password-overlay">
    <div class="password-form">
      <h2>Sssssh. It's a secret.</h2>
      <p>Please enter the password.</p>
      <input type="password" id="passwordInput" placeholder="password">
      <button onclick="checkPassword()">Enter</button>
      <div id="errorMessage" class="error-message"></div>
    </div>
  </div>

  <div class="container">
    <header class="masthead">
      <h1 class="masthead-title">
        <strong><a href="/">Asher Ellis</a></strong>
      </h1>
      <nav class="masthead-nav">
        <ul class="navlist">
          <li class="navitem"><a href="/about/">About</a></li>
          <li class="navitem"><a href="/writing/">Writing</a></li>
          <li class="navitem"><a href="/photos/">Photos</a></li>
        </ul>
      </nav>
    </header>

    <div class="content list">
      <p class="page-description">Courtesy of my lovely Bảo.</p>

      <div class="loading-message">
        Loading live photos...
      </div>

      <div class="secret-grid" id="secretGrid">
        <!-- Live photos will be loaded here via JavaScript -->
      </div>
    </div>
  </div>

  <script>
    // Simple password protection
    const correctPassword = 'baobao'; // Change this to your desired password

    function checkPassword() {
      const input = document.getElementById('passwordInput');
      const errorMsg = document.getElementById('errorMessage');
      const overlay = document.getElementById('passwordOverlay');

      if (input.value === correctPassword) {
        overlay.classList.add('hidden');
        loadSecret();
        // Store in session to avoid re-asking during same session
        sessionStorage.setItem('secretAccess', 'granted');
      } else {
        errorMsg.textContent = 'Incorrect password. Please try again.';
        input.value = '';
        input.focus();
      }
    }

    // Check if already authenticated this session
    if (sessionStorage.getItem('secretAccess') === 'granted') {
      document.getElementById('passwordOverlay').classList.add('hidden');
      loadSecret();
    }

    // Allow Enter key to submit
    document.getElementById('passwordInput').addEventListener('keypress', function (e) {
      if (e.key === 'Enter') {
        checkPassword();
      }
    });

    // Focus password input on load
    document.getElementById('passwordInput').focus();

    async function loadSecret() {
      const grid = document.getElementById('secretGrid');
      const loadingMsg = document.querySelector('.loading-message');

      // Live Photos with both static images and video animations
      const livePhotos = [

        {
          image: 'converted/6D679C86-B978-492A-91DB-E55492196BC0.jpg',
          video: 'videos/6D679C86-B978-492A-91DB-E55492196BC0.mp4'
        },
        {
          image: 'converted/861DFFB0-33B8-4679-9685-5A6CA8DB7431.jpg',
          video: 'videos/861DFFB0-33B8-4679-9685-5A6CA8DB7431.mp4'
        },

        {
          image: 'converted/A395B738-942C-4E5C-B728-48A866B58307.jpg',
          video: 'videos/A395B738-942C-4E5C-B728-48A866B58307.mp4'
        },
        {
          image: 'converted/A830DEA8-BC98-4BAC-9371-0F1D4391A69C.jpg',
          video: 'videos/A830DEA8-BC98-4BAC-9371-0F1D4391A69C.mp4'
        },
        {
          image: 'converted/AA65AE44-B9D4-4B83-B793-343111085C39.jpg',
          video: 'videos/AA65AE44-B9D4-4B83-B793-343111085C39.mp4'
        },
        {
          image: 'converted/BD377FE9-0868-429D-B8E9-C1DC06D1AB41.jpg',
          video: 'videos/BD377FE9-0868-429D-B8E9-C1DC06D1AB41.mp4'
        },
        {
          image: 'converted/BF35050E-1154-433A-A3B1-340DE5F5617D.jpg',
          video: 'videos/BF35050E-1154-433A-A3B1-340DE5F5617D.mp4'
        },
        {
          image: 'converted/C72056E7-0997-42D0-B938-F4CEC644E907.jpg',
          video: 'videos/C72056E7-0997-42D0-B938-F4CEC644E907.mp4'
        },
        {
          image: 'converted/DB7AAE70-AE4E-4DD3-A17E-46B47B33FD00.jpg',
          video: 'videos/DB7AAE70-AE4E-4DD3-A17E-46B47B33FD00.mp4'
        },
        {
          image: 'converted/EA36E9A9-F535-4A96-B8AB-11F5C84D8EC1.jpg',
          video: 'videos/EA36E9A9-F535-4A96-B8AB-11F5C84D8EC1.mp4'
        },
        {
          image: 'converted/EAD8B6A9-8317-434E-B2A3-D99EC05D15B0.jpg',
          video: 'videos/EAD8B6A9-8317-434E-B2A3-D99EC05D15B0.mp4'
        },
        {
          image: 'converted/FE4F7FB2-8E51-427E-937E-D9ACC7AA6F04.jpg',
          video: 'videos/FE4F7FB2-8E51-427E-937E-D9ACC7AA6F04.mp4'
        },
        {
          image: 'converted/24BBC2B6-788B-446B-B7A4-517B3DF6B5F7.jpg',
          video: 'videos/24BBC2B6-788B-446B-B7A4-517B3DF6B5F7.mp4'
        },
        {
          image: 'converted/3B74F8D9-01CD-4840-B47A-65D2DBE81BFE.jpg',
          video: 'videos/3B74F8D9-01CD-4840-B47A-65D2DBE81BFE.mp4'
        },
        {
          image: 'converted/CF4D0E60-14DE-4C63-B8A0-CC6F94D7608D.jpg',
          video: 'videos/CF4D0E60-14DE-4C63-B8A0-CC6F94D7608D.mp4'
        },
        {
          image: 'converted/DC464282-EBFC-49C9-8735-9B8DF4421CF1.jpg',
          video: 'videos/DC464282-EBFC-49C9-8735-9B8DF4421CF1.mp4'
        },
        {
          image: 'converted/F43224C6-DC30-488C-823E-E50F3409685D.jpg',
          video: 'videos/F43224C6-DC30-488C-823E-E50F3409685D.mp4'
        }
      ];

      loadingMsg.style.display = 'none';

      livePhotos.forEach((photo, index) => {
        const item = document.createElement('div');
        item.className = 'animation-item';

        // Extract date from filename or use index for demo
        const displayDate = getDisplayDate(photo.image, index);

        item.innerHTML = `
            <div class="media-container" style="position: relative;">
              <video src="${photo.video}"
                     style="width: 100%; height: auto; object-fit: cover; display: block; background: transparent;"
                     muted playsinline preload="auto" autoplay loop>
              </video>
            </div>
          `;

        // Videos will auto-play, no click handler needed

        grid.appendChild(item);
      });
    }

    function getDisplayDate(filename, index) {
      // You can customize this to extract actual dates from your files
      // For now, using some sample dates
      const dates = [
        'Sep 26, 2024', 'Sep 3, 2024', 'Sep 2, 2024', 'Aug 14, 2024',
        'Sep 26, 2024', 'Aug 28, 2024', 'Sep 26, 2024', 'Sep 9, 2024',
        'Sep 4, 2024', 'Aug 28, 2024', 'Sep 25, 2024', 'Sep 25, 2024',
        'Aug 28, 2024', 'Aug 15, 2024', 'Aug 20, 2024', 'Sep 1, 2024',
        'Sep 10, 2024', 'Aug 30, 2024'
      ];
      return dates[index] || 'Recent';
    }

  </script>
</body>

</html>